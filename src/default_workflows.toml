[[workflows]]
id = "automation_granular"
aliases = ["default", "delivery", "automation", "granular"]
description = "automation-granular flow"
initial_state = "idea"
states = [
  "idea",
  "work_item",
  "implementing",
  "implemented",
  "reviewing",
  "rejected",
  "refining",
  "approved",
  "shipped",
  "deferred",
  "abandoned"
]
terminal_states = ["shipped", "deferred", "abandoned"]

[[workflows.transitions]]
from = "idea"
to = "work_item"

[[workflows.transitions]]
from = "work_item"
to = "implementing"

[[workflows.transitions]]
from = "implementing"
to = "implemented"

[[workflows.transitions]]
from = "implemented"
to = "reviewing"

[[workflows.transitions]]
from = "reviewing"
to = "approved"

[[workflows.transitions]]
from = "reviewing"
to = "rejected"

[[workflows.transitions]]
from = "rejected"
to = "refining"

[[workflows.transitions]]
from = "refining"
to = "implemented"

[[workflows.transitions]]
from = "approved"
to = "shipped"

[[workflows.transitions]]
from = "*"
to = "deferred"

[[workflows.transitions]]
from = "*"
to = "abandoned"

[[workflows]]
id = "human_gate"
aliases = ["coarse", "pr_human_gate", "human"]
description = "coarse flow with human gate after PR creation"
initial_state = "idea"
states = [
  "idea",
  "implementing",
  "pr_open",
  "human_review",
  "agent_review",
  "approved",
  "rejected",
  "shipped",
  "deferred",
  "abandoned"
]
terminal_states = ["shipped", "deferred", "abandoned"]

[[workflows.transitions]]
from = "idea"
to = "implementing"

[[workflows.transitions]]
from = "implementing"
to = "pr_open"

[[workflows.transitions]]
from = "pr_open"
to = "human_review"

[[workflows.transitions]]
from = "human_review"
to = "approved"

[[workflows.transitions]]
from = "human_review"
to = "agent_review"

[[workflows.transitions]]
from = "agent_review"
to = "approved"

[[workflows.transitions]]
from = "agent_review"
to = "rejected"

[[workflows.transitions]]
from = "rejected"
to = "implementing"

[[workflows.transitions]]
from = "approved"
to = "shipped"

[[workflows.transitions]]
from = "*"
to = "deferred"

[[workflows.transitions]]
from = "*"
to = "abandoned"
